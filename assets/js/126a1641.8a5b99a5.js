"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7545],{7854(e,t,n){n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"import/ssh","title":"SSH","description":"Import data from remote servers over SSH, including file downloads and remote command execution for monitoring server load and disk usage.","source":"@site/docs/import/ssh.md","sourceDirName":"import","slug":"/import/ssh","permalink":"/docs/import/ssh","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":90,"frontMatter":{"sidebar_position":90,"description":"Import data from remote servers over SSH, including file downloads and remote command execution for monitoring server load and disk usage.","keywords":["SSH","import","remote server","file transfer","remote command","server monitoring","data acquisition","SpaceTime"]},"sidebar":"defaultSidebar","previous":{"title":"HTTP","permalink":"/docs/import/http"},"next":{"title":"MQTT","permalink":"/docs/import/mqtt"}}');var r=n(74848),s=n(28453);const i={sidebar_position:90,description:"Import data from remote servers over SSH, including file downloads and remote command execution for monitoring server load and disk usage.",keywords:["SSH","import","remote server","file transfer","remote command","server monitoring","data acquisition","SpaceTime"]},a="SSH",d={},c=[{value:"Datasource",id:"datasource",level:2},{value:"Importer",id:"importer",level:2},{value:"Executing remote commands",id:"executing-remote-commands",level:2}];function m(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"ssh",children:"SSH"})}),"\n",(0,r.jsx)(t.p,{children:"SSH can be used to download a file from a server or to execute remote commands on a server, for example to get the current workload or disk usage. The authentication for the SSH connection are defined in a secret."}),"\n",(0,r.jsx)(t.h2,{id:"datasource",children:"Datasource"}),"\n",(0,r.jsxs)(t.p,{children:["Create a new secret with field ",(0,r.jsx)(t.code,{children:"type"})," set to ",(0,r.jsx)(t.code,{children:"ssh"}),". Define the other parameters such as the IP address or name of ",(0,r.jsx)(t.code,{children:"host"}),", the ",(0,r.jsx)(t.code,{children:"username"})," and ",(0,r.jsx)(t.code,{children:"password"})," and optionally a specific port number. In the field ",(0,r.jsx)(t.code,{children:"filename"})," enter the path to the file. You can protect confidential information in the secret by clicking on the lock."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:n(4274).A+"",width:"2732",height:"1122"})}),"\n",(0,r.jsx)(t.h2,{id:"importer",children:"Importer"}),"\n",(0,r.jsxs)(t.p,{children:["In the importer enter the name of the secret under ",(0,r.jsx)(t.code,{children:"Datasource"})," and select ",(0,r.jsx)(t.code,{children:"Test"})," to retrieve the data. Note that this may take a few seconds for setting up an SSH connection and logging in to the host."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:n(69201).A+"",width:"2732",height:"1802"})}),"\n",(0,r.jsx)(t.h2,{id:"executing-remote-commands",children:"Executing remote commands"}),"\n",(0,r.jsxs)(t.p,{children:["You can also use an SSH connection to execute remote commands. In the example below the keys are mapped to a JavaScript function ",(0,r.jsx)(t.code,{children:"exec(command, options)"}),". The command is a linux command that is executed on the server to get the load and disk usage."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"top -b -n 2 | grep 'Cpu' | cat | awk '{print $2}'|tail -1\ndf /dev/vda3 | awk '{print $5}'| tail -1 | sed s/%//\n"})}),"\n",(0,r.jsxs)(t.p,{children:["The field ",(0,r.jsx)(t.code,{children:"options"})," is mapped to the column ",(0,r.jsx)(t.code,{children:"secret"})," in the data source."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:n(82647).A+"",width:"2732",height:"1802"})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},82647(e,t,n){n.d(t,{A:()=>o});const o=n.p+"assets/images/importer_ssh_server-95d0cc4d2d8e251f0acd84bf67bef885.png"},69201(e,t,n){n.d(t,{A:()=>o});const o=n.p+"assets/images/importer_weather_csv_ssh-b9fc8083268f56e860b60f1ecaaf0267.png"},4274(e,t,n){n.d(t,{A:()=>o});const o=n.p+"assets/images/secret_weather_ssh-fa63573cbf43d74301ce05cd7353dda1.png"},28453(e,t,n){n.d(t,{R:()=>i,x:()=>a});var o=n(96540);const r={},s=o.createContext(r);function i(e){const t=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);