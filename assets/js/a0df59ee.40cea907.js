"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[4070],{91375(e,t,n){n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"visualization/position","title":"Position","description":"Compose a digital twin from multiple GLTF components by specifying translation, rotation, and scale topics to position and orient objects such as valves on a refinery structure.","source":"@site/docs/visualization/position.md","sourceDirName":"visualization","slug":"/visualization/position","permalink":"/docs/visualization/position","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":45,"frontMatter":{"sidebar_position":45,"description":"Compose a digital twin from multiple GLTF components by specifying translation, rotation, and scale topics to position and orient objects such as valves on a refinery structure.","keywords":["position","translation","rotation","scale","GLTF","digital twin","3D composition","refinery","valves","IoT","topics"]},"sidebar":"defaultSidebar","previous":{"title":"Scaling","permalink":"/docs/visualization/scaling"},"next":{"title":"Location","permalink":"/docs/visualization/location"}}');var o=n(74848),a=n(28453);const s={sidebar_position:45,description:"Compose a digital twin from multiple GLTF components by specifying translation, rotation, and scale topics to position and orient objects such as valves on a refinery structure.",keywords:["position","translation","rotation","scale","GLTF","digital twin","3D composition","refinery","valves","IoT","topics"]},r="Position",l={},c=[{value:"Solids",id:"solids",level:2},{value:"Topics",id:"topics",level:2},{value:"Model",id:"model",level:2},{value:"Explanation",id:"explanation",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",mermaid:"mermaid",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"position",children:"Position"})}),"\n",(0,o.jsx)(t.p,{children:"When creating a digital twin you often start with a basic structure, such as a building or an industrial facility. You can then progressively add components such as equipment, furniture, or installations. Each component in the digital twin can be represented by a GLTF file and a transformation that specifies its position and orientation."}),"\n",(0,o.jsx)(t.h2,{id:"solids",children:"Solids"}),"\n",(0,o.jsxs)(t.p,{children:["This example shows how a model of a refinery is augmented with two valves. The ",(0,o.jsx)(t.code,{children:"Refinery"})," is a GLTF model that is purchased from ",(0,o.jsx)(t.a,{href:"https://sketchfab.com",children:"Sketchfab"}),", a repository of free and paid GTLF models. It is downloaded as a ",(0,o.jsx)(t.code,{children:".glb"})," file, which includes geometry and textures."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(54248).A+"",width:"1362",height:"990"})}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"Valve"})," is created with the built-in solid modeler by combining a block, cylinder, and torus. After defining the object is it exported as ",(0,o.jsx)(t.code,{children:"Valve.gltf"}),"."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(66833).A+"",width:"1200",height:"750"})}),"\n",(0,o.jsx)(t.h2,{id:"topics",children:"Topics"}),"\n",(0,o.jsxs)(t.p,{children:["The refinery digital twin is composed of a topic ",(0,o.jsx)(t.code,{children:"refinery.structure"}),", and ",(0,o.jsx)(t.code,{children:"refinery.controls"})," for the valves. The topic for the valves includes a ",(0,o.jsx)(t.code,{children:"translation"})," subtopic that specifies the xyz-position in 3D space. A ",(0,o.jsx)(t.code,{children:"rotation"})," subtopic specifies the orientation of the valve along the xyz-axis. Finally, a ",(0,o.jsx)(t.code,{children:"scale"})," subtopic is used to size the valve to match the dimensions of the refinery."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"refinery.structure.geometry = Refinery.glb\n\nrefinery.controls.valve_01.geometry = Valve.gltf\nrefinery.controls.valve_01.translation = 9, 5.8, 20\nrefinery.controls.valve_01.rotation = 0,90,0\nrefinery.controls.valve_01.scale = 8,8,8\n\nrefinery.controls.valve_02.geometry = Valve.gltf\nrefinery.controls.valve_02.translation = 3, 5.8, 20\nrefinery.controls.valve_02.rotation = 0,90,0\nrefinery.controls.valve_02.scale = 8,8,8\n"})}),"\n",(0,o.jsx)(t.h2,{id:"model",children:"Model"}),"\n",(0,o.jsxs)(t.p,{children:["Create a new model and include the topics for the refinery and the valves. By including two different topics instead of the parent topic ",(0,o.jsx)(t.code,{children:"refinery"})," we can toggle the display of the refinery structure and the valves. To position the valve, you can click on the object in the 3D view and modify the values of the ",(0,o.jsx)(t.code,{children:"translation"})," and ",(0,o.jsx)(t.code,{children:"orientation"})," topics."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(61173).A+"",width:"1200",height:"750"})}),"\n",(0,o.jsxs)(t.p,{children:["In this example, the ",(0,o.jsx)(t.code,{children:"translation"})," value of the valve is set only once and remains static. Of course, it is also possible to dynamically change the position of objects by real-time import of the translation coordinates. This can be used to visualize the position of moving vehicles or structures in the digital twin. It is important to understand that users to not have to use CAD software to make updates to the 3D model. The composition of the model is dynamically generated from the value of the topics in the database. They can automatically be imported from sensors, or specified manually by the user.  For example, if a certain area of the refinery is closed for maintenance, a user could manually specify the location of a fence that restricts the area."]}),"\n",(0,o.jsx)(t.h2,{id:"explanation",children:"Explanation"}),"\n",(0,o.jsx)(t.p,{children:"The model is composed of three different components, each having a GLTF file. The two valves link to the same file but each generate a separate instance.  The topics for the structure and the two valves are linked to the GLTF as displayed below. The structure only has a geometry link to the GLTF file. The position and orientation of the two valves are controlled by subtopics."}),"\n",(0,o.jsx)(t.mermaid,{value:"flowchart \n    subgraph Topics\n    direction TB\n        Refinery\n        Refinery --\x3e Structure[Structure\\n]\n        Structure --\x3e Geometry\n        Refinery --\x3e Controls\n        Controls --\x3e Valve_01[Valve 01]\n        Controls --\x3e Valve_02[Valve 02]\n        Valve_01 --\x3e Geometry1[Geometry]\n        Valve_01 --\x3e Translation[Translation\\n9,5.8,20]\n        Valve_01 --\x3e Rotation[Rotation\\n-90,0,0]\n        Valve_02 --\x3e Geometry2[Geometry]\n        Valve_02 --\x3e Translation2[Translation\\n3,5.8,20]\n        Valve_02 --\x3e Rotation2[Rotation\\n0,90,0]\n    end\n    subgraph GLTF\n    direction TB\n        StructureGL[Refinery\\n Refinery.gltf]\n        Valve_01GL[Valve 01 \\n Valve.gltf]\n        Valve_02GL[Valve 02\\n Valve.gltf]\n    end\n    Geometry --\x3e StructureGL\n    Geometry1 --\x3e Valve_01GL\n    Geometry2 --\x3e Valve_02GL\n    Translation --\x3e Valve_01GL\n    Rotation --\x3e Valve_01GL\n    Translation2 --\x3e Valve_02GL\n    Rotation2 --\x3e Valve_02GL\n"})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},54248(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/refinery-41d3dca571d2e7114fd95576c12dff86.png"},61173(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/visualization_model_refinery-4412874a1a719d321f61c316e3c29941.png"},66833(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/visualization_solid_valve-0cdc76c791da5ecdce6f5a2150b17ee3.png"},28453(e,t,n){n.d(t,{R:()=>s,x:()=>r});var i=n(96540);const o={},a=i.createContext(o);function s(e){const t=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);