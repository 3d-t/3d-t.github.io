"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7731],{9406(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"visualization/location","title":"Location","description":"Position objects in a digital twin using symbolic location references instead of raw 3D coordinates, demonstrated by placing servers into named rack slots in a data center model.","source":"@site/docs/visualization/location.md","sourceDirName":"visualization","slug":"/visualization/location","permalink":"/docs/visualization/location","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":60,"frontMatter":{"sidebar_position":60,"description":"Position objects in a digital twin using symbolic location references instead of raw 3D coordinates, demonstrated by placing servers into named rack slots in a data center model.","keywords":["location","symbolic positioning","GLTF","digital twin","data center","server rack","IoT","3D visualization","transformation matrix","nodes"]},"sidebar":"defaultSidebar","previous":{"title":"Position","permalink":"/docs/visualization/position"},"next":{"title":"Animation","permalink":"/docs/visualization/animations"}}');var a=i(74848),o=i(28453);const r={sidebar_position:60,description:"Position objects in a digital twin using symbolic location references instead of raw 3D coordinates, demonstrated by placing servers into named rack slots in a data center model.",keywords:["location","symbolic positioning","GLTF","digital twin","data center","server rack","IoT","3D visualization","transformation matrix","nodes"]},s="Location",c={},d=[{value:"Solids",id:"solids",level:2},{value:"Topics",id:"topics",level:2},{value:"Model",id:"model",level:2},{value:"Explanation",id:"explanation",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",mermaid:"mermaid",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"location",children:"Location"})}),"\n",(0,a.jsxs)(n.p,{children:["In many cases specifying the position or orientation of components as numbers in 3D space is not user-friendly. For example, in a digital twin of a parking garage, it is more convenient to specify the location of a vehicle by a symbolic code like ",(0,a.jsx)(n.code,{children:"A23"})," instead of XYZ-coordinates in 3D space."]}),"\n",(0,a.jsx)(n.h2,{id:"solids",children:"Solids"}),"\n",(0,a.jsx)(n.p,{children:"This example shows how we can locate a server in a rack in a data center. First, we create a solid that represents a single unit of space for a server, typically with a width of 19 inches."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:i(11189).A+"",width:"1200",height:"750"})}),"\n",(0,a.jsxs)(n.p,{children:["A 19-inch rack with 19 units stacked vertically is defined, where each unit has a unique number between ",(0,a.jsx)(n.code,{children:"1"})," and ",(0,a.jsx)(n.code,{children:"19"}),". This rack is repeated four times and each rack has a unique identifier between ",(0,a.jsx)(n.code,{children:"a"})," - ",(0,a.jsx)(n.code,{children:"z"}),". So the left lower unit has identifier ",(0,a.jsx)(n.code,{children:"a_1"}),". When exporting this model to GLTF, each unit in the rack is represented by a node that calls the ",(0,a.jsx)(n.code,{children:"Unit"})," part. By convention, the naming of the node will be at the form ",(0,a.jsx)(n.code,{children:"a_1_Unit"}),", ",(0,a.jsx)(n.code,{children:"c_4_Unit"}),", and so forth."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:i(56800).A+"",width:"1200",height:"750"})}),"\n",(0,a.jsx)(n.h2,{id:"topics",children:"Topics"}),"\n",(0,a.jsx)(n.p,{children:"We create a topic to link the geometry of the rack to the GLTF file, and a subtopic for each unit in the rack that has a link to the name of the node in the GLTF file."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"datacenter.rack.geometry = Rack19.gltf\ndatacenter.rack.a1.node = a_1_Unit\ndatacenter.rack.a2.node = a_2_Unit\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Next, we define topics for servers that are placed in the rack. Each server has a link to the GLTF file. The subtopic ",(0,a.jsx)(n.code,{children:"location"})," refers to another topic, such as ",(0,a.jsx)(n.code,{children:"datacenter.rack.a2"}),", which is defined as the position of node ",(0,a.jsx)(n.code,{children:"a_1_Unit"})," in the ",(0,a.jsx)(n.code,{children:"Rack19.gltf"})," object."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"datacenter.server.d_1.location = datacenter.rack.a2\ndatacenter.server.d_1.geometry = Server.gltf\ndatacenter.server.d_1.temperature = 65\ndatacenter.server.d_1.os = Ubuntu 22.4\ndatacenter.server.d_2.location = datacenter.rack.a3\ndatacenter.server.d_2.geometry = Server.gltf\ndatacenter.server.d_2.temperature = 65\ndatacenter.server.d_2.os = Ubuntu 22.4\n"})}),"\n",(0,a.jsx)(n.h2,{id:"model",children:"Model"}),"\n",(0,a.jsxs)(n.p,{children:["A digital twin of the data center is defined by including the ",(0,a.jsx)(n.code,{children:"datacenter.rack"})," and ",(0,a.jsx)(n.code,{children:"datacenter.server"})," topics. This will automatically include all subtopics such as for the rack units and servers. To place a specific server in the rack the user can click on the server and specify the location. In this example, a server if moved from rack position ",(0,a.jsx)(n.code,{children:"c9"})," to ",(0,a.jsx)(n.code,{children:"a17"}),". You can also combine the ",(0,a.jsx)(n.code,{children:"location"})," with a ",(0,a.jsx)(n.code,{children:"translation"}),". In this case, the translation is done relative to the node defined by the location. For example, a ",(0,a.jsx)(n.code,{children:"translation"})," with value ",(0,a.jsx)(n.code,{children:"0.3, 0, 3"})," will move the server forward in the rack."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:i(45926).A+"",width:"1200",height:"750"})}),"\n",(0,a.jsx)(n.h2,{id:"explanation",children:"Explanation"}),"\n",(0,a.jsxs)(n.p,{children:["When the GLTF of the rack is rendered the transformation matrices, which includes the position and orientation in world coordinates, of all nodes are stored in a table. When the servers are rendered the position has a reference to a topic in the rack. This topic has a subtopic ",(0,a.jsx)(n.code,{children:".node"})," that points to a node in the ",(0,a.jsx)(n.code,{children:"Rack19.gltf"}),". The transformation matrix of this node is used to specify the position and orientation of the server. If there is an additional ",(0,a.jsx)(n.code,{children:".translation"})," subtopic, the translation is applied relative to the transformation matrix of the node in the rack."]}),"\n",(0,a.jsx)(n.mermaid,{value:"flowchart \n    subgraph Topics\n    direction TB\n        Server --\x3e ServerD1\n        ServerD1[d_1] --\x3e LocationD1[location]\n        ServerD1[d_1] --\x3e TranslationD1[translation]\n    end\n    subgraph Rack\n        direction TB\n        RackGL[Rack] --\x3e NodeA1GL[a_1_Unit]\n        NodeA1GL --\x3e TA1[Transformation]\n    end\n    subgraph Servers\n        ServerD1GL[Server]\n    end\n    TA1 --\x3e LocationD1\n    LocationD1 --\x3e ServerD1GL\n    TranslationD1 --\x3e LocationD1"})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},45926(e,n,i){i.d(n,{A:()=>t});const t=i.p+"assets/images/visualization_model_datacenter-d16aa4c9ab0121246849333f87bb1c3e.png"},56800(e,n,i){i.d(n,{A:()=>t});const t=i.p+"assets/images/visualization_solid_rack19-a8f4bb9bf4684f18b672df8fe36f623e.png"},11189(e,n,i){i.d(n,{A:()=>t});const t=i.p+"assets/images/visualization_solid_unit-c9809a57cdbbcda0fe8fd9b1edd92d34.png"},28453(e,n,i){i.d(n,{R:()=>r,x:()=>s});var t=i(96540);const a={},o=t.createContext(a);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);