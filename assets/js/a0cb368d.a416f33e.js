"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7672],{15680:(e,a,n)=>{n.d(a,{xA:()=>c,yg:()=>g});var t=n(96540);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=t.createContext({}),s=function(e){var a=t.useContext(p),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},c=function(e){var a=s(e.components);return t.createElement(p.Provider,{value:a},e.children)},d="mdxType",f={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(n),m=r,g=d["".concat(p,".").concat(m)]||d[m]||f[m]||o;return n?t.createElement(g,i(i({ref:a},c),{},{components:n})):t.createElement(g,i({ref:a},c))}));function g(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var p in a)hasOwnProperty.call(a,p)&&(l[p]=a[p]);l.originalType=e,l[d]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},26333:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>p,contentTitle:()=>i,default:()=>f,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var t=n(58168),r=(n(96540),n(15680));const o={sidebar_position:300},i="Floor plan",l={unversionedId:"drawings/floorplan",id:"drawings/floorplan",title:"Floor plan",description:"In this example we show how you can overlay an existing floor plan in SVG to show area properties such as temperature or humidity. In the 'Files' section import the file 'floorplan.svg' that shows the layout of an office.",source:"@site/docs/drawings/floorplan.md",sourceDirName:"drawings",slug:"/drawings/floorplan",permalink:"/docs/drawings/floorplan",draft:!1,tags:[],version:"current",sidebarPosition:300,frontMatter:{sidebar_position:300},sidebar:"defaultSidebar",previous:{title:"Diagrams",permalink:"/docs/drawings/diagrams"},next:{title:"IFC",permalink:"/docs/buildings/ifc"}},p={},s=[{value:"Drawing",id:"drawing",level:2},{value:"Form",id:"form",level:2},{value:"Topics",id:"topics",level:2},{value:"Diagram",id:"diagram",level:2}],c={toc:s},d="wrapper";function f(e){let{components:a,...o}=e;return(0,r.yg)(d,(0,t.A)({},c,o,{components:a,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"floor-plan"},"Floor plan"),(0,r.yg)("p",null,"In this example we show how you can overlay an existing floor plan in SVG to show area properties such as temperature or humidity. In the 'Files' section import the file 'floorplan.svg' that shows the layout of an office."),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(91769).A,width:"1024",height:"768"})),(0,r.yg)("h2",{id:"drawing"},"Drawing"),(0,r.yg)("p",null,"First we create a ",(0,r.yg)("inlineCode",{parentName:"p"},"Drawing")," in text mode. The drawing includes a default variable ",(0,r.yg)("inlineCode",{parentName:"p"},"data")," that contains the colors of all areas. The SVG for the floor plan is included in the drawing using the function ",(0,r.yg)("inlineCode",{parentName:"p"},"svg(floorplan.svg)"),". Next, a map of all areas is defined. The key in the map is the number of the area and the value is an array of 4 values that specify the ",(0,r.yg)("inlineCode",{parentName:"p"},"x-position"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"y-position"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"width")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"height")," of the area. A ",(0,r.yg)("inlineCode",{parentName:"p"},"for")," loop is used to draw all areas on top of the SVG of the floor plan. The fill color is defined by the ",(0,r.yg)("inlineCode",{parentName:"p"},"color")," field defined in ",(0,r.yg)("inlineCode",{parentName:"p"},"data")," variable. A ",(0,r.yg)("inlineCode",{parentName:"p"},"link")," is defined so that a user can click on an area to open a form. The second parameter of the link is the name of the topic that should be opened in a form, for example ",(0,r.yg)("inlineCode",{parentName:"p"},"area_212"),"."),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(22389).A,width:"2400",height:"1300"})),(0,r.yg)("h2",{id:"form"},"Form"),(0,r.yg)("p",null,"In the 'Forms' module create a simple form ",(0,r.yg)("inlineCode",{parentName:"p"},"Area")," that has fields for ",(0,r.yg)("inlineCode",{parentName:"p"},"Occupancy"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"Temperature")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"Humidity"),". The temperature and humidity parameters are displayed by gauges with color ranges:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"Area\n\nOccupancy\n\nTemperature\n[0|15:blue,15|18:yellow,18|21:green,21|23:orange,23|30:red 00]\n\nHumidity\n[0|10:red,10|50:yellow,50|80:green,80|100:blue 00]\n")),(0,r.yg)("h2",{id:"topics"},"Topics"),(0,r.yg)("p",null,"The main topic ",(0,r.yg)("inlineCode",{parentName:"p"},"office.acme.floorplan")," has a subtopic ",(0,r.yg)("inlineCode",{parentName:"p"},"geometry")," with a value that stores the name of the drawing and parameters to generate the drawing. There are subtopic for each area in the floor plan."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"office.acme.floorplan.geometry = SVG.Floorplan(office.acme.floorplan)\noffice.acme.floorplan.area_212.occupancy = 1\noffice.acme.floorplan.area_212.temperature = 16\noffice.acme.floorplan.area_212.humidity = 87\noffice.acme.floorplan.area_213.occupancy = 1\noffice.acme.floorplan.area_213.temperature = 21 \noffice.acme.floorplan.area_213.humidity = 88\n...\n")),(0,r.yg)("p",null,"When generating the drawing the topics are converted into a JavaScript object: "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-JavaScript"},'const office = {\n    acme: {\n        floorplan: {\n            geometry: "SVG.Floorplan(office.acme.floorplan)"\n            area_212: {\n                occupancy: 1,\n                temperature: 16,\n                humidity: 87\n            },\n            area_213: {\n                occupancy: 1,\n                temperature: 21,\n                humidity: 88\n            }\n            ...\n        }\n    }\n}\n')),(0,r.yg)("p",null,"This implies that the parameter ",(0,r.yg)("inlineCode",{parentName:"p"},"office.acme.floorplan")," contains the information for all areas."),(0,r.yg)("h2",{id:"diagram"},"Diagram"),(0,r.yg)("p",null,"You can now create a new ",(0,r.yg)("inlineCode",{parentName:"p"},"Diagram")," that links the topics to the ",(0,r.yg)("inlineCode",{parentName:"p"},"Drawing"),". In the diagram you can specify the name of the form for displaying information about selected items. You can also select a parameter that should be used to recolor the areas in the drawing. In this example, we can switch the color scheme between ",(0,r.yg)("inlineCode",{parentName:"p"},"temperature")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"humidity"),"."),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(15009).A,width:"2400",height:"1300"}),"\n",(0,r.yg)("img",{src:n(44848).A,width:"2400",height:"1300"})),(0,r.yg)("p",null,"If you click on an item in the drawing, the form with details about the selected area is displayed. You can set the form in edit mode to update the values."),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(54698).A,width:"2400",height:"1300"})))}f.isMDXComponent=!0},91769:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/floorplan-17f01e5aea816fd7df42dbe1a05cd980.svg"},54698:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/area-09a017990cdd6cd282c6cf7766de2d5e.png"},44848:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/floorplan_humidity-788b47c8d5330ed76d134769fb020708.png"},15009:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/floorplan_temperature-6b78b6c8ad28af3be3a7effee082f060.png"},22389:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/floorplan-fff3798990115341636211e9b2f21077.png"}}]);