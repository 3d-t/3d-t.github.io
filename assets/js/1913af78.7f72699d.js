"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1005],{22383(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>l,frontMatter:()=>s,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"api/authorization","title":"Authorization","description":"How to authenticate with the SpaceTime API using JWT tokens, including step-by-step instructions for Swagger UI and curl-based authorization.","source":"@site/docs/api/authorization.md","sourceDirName":"api","slug":"/api/authorization","permalink":"/docs/api/authorization","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"description":"How to authenticate with the SpaceTime API using JWT tokens, including step-by-step instructions for Swagger UI and curl-based authorization.","keywords":["JWT","authorization","authentication","access token","Swagger","curl","API security","Bearer token"]},"sidebar":"defaultSidebar","previous":{"title":"Documentation","permalink":"/docs/api/intro"},"next":{"title":"Draw","permalink":"/docs/reference/draw"}}');var o=n(74848),a=n(28453);const s={sidebar_position:2,description:"How to authenticate with the SpaceTime API using JWT tokens, including step-by-step instructions for Swagger UI and curl-based authorization.",keywords:["JWT","authorization","authentication","access token","Swagger","curl","API security","Bearer token"]},r="Authorization",c={},u=[{value:"Curl",id:"curl",level:3}];function h(e){const t={code:"code",h1:"h1",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"authorization",children:"Authorization"})}),"\n",(0,o.jsxs)(t.p,{children:["Authorization of the API is implemented with JWT (Jason Web Tokens). To request a token you can use the Swagger API documentation. Click on the ",(0,o.jsx)(t.code,{children:"login"})," section and select ",(0,o.jsx)(t.code,{children:"Try out"}),". In the request body enter the credentials. Make sure you quote the keys and the values."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(17160).A+"",width:"1940",height:"1668"})}),"\n",(0,o.jsxs)(t.p,{children:["Click on ",(0,o.jsx)(t.code,{children:"Execute"})," and go to the response body section. Copy the token."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n  "Authorization": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoib...."\n}\n'})}),"\n",(0,o.jsxs)(t.p,{children:["In the Swagger API click on ",(0,o.jsx)(t.code,{children:"Authorize"})," and paste the token. You can now use the other API functions without having to enter authorization information."]}),"\n",(0,o.jsx)(t.h3,{id:"curl",children:"Curl"}),"\n",(0,o.jsxs)(t.p,{children:["Alternatively you can use ",(0,o.jsx)(t.code,{children:"curl"})," to request an JWT access token."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"curl -X 'POST' \\\n  'https://server.localhost/login' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"userName\": \"me\",\n  \"password\": \"secret\"\n}'\n"})}),"\n",(0,o.jsxs)(t.p,{children:["To test the token you can request all data with topic ",(0,o.jsx)(t.code,{children:"weather"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"curl -X 'GET' \\\n  'https://server.3d-t.it/states?topic=weather&value=fog' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoib...'\n"})}),"\n",(0,o.jsx)(t.p,{children:"The result is a JSON array with all state objects:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'[\n{\n  "spacetime": [\n    51.41191,\n    5.44969,\n    0,\n    "2021-11-03T14:45:04.539Z"\n  ],\n  "topic": "weather.eersel.temperature",\n  "updated": "2021-04-06T11:00:01.730Z",\n  "value": 9,\n},\n...\n'})})]})}function l(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},17160(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/authorization-206ab2e3afff8f9303a4ee72541f5a89.png"},28453(e,t,n){n.d(t,{R:()=>s,x:()=>r});var i=n(96540);const o={},a=i.createContext(o);function s(e){const t=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);