"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[4896],{72959(e,o,t){t.r(o),t.d(o,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"automation/loops","title":"Loops","description":"Use loop blocks to iterate over collections of topics matching a pattern, enabling bulk operations such as presence-based device control across multiple endpoints.","source":"@site/docs/automation/loops.md","sourceDirName":"automation","slug":"/automation/loops","permalink":"/docs/automation/loops","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":35,"frontMatter":{"sidebar_position":35,"description":"Use loop blocks to iterate over collections of topics matching a pattern, enabling bulk operations such as presence-based device control across multiple endpoints.","keywords":["loops","iteration","topic patterns","presence detection","bulk device control","automation loops","pattern matching","variables"]},"sidebar":"defaultSidebar","previous":{"title":"Conditional statements","permalink":"/docs/automation/conditionals"},"next":{"title":"Timers","permalink":"/docs/automation/timers"}}');var n=t(74848),i=t(28453);const a={sidebar_position:35,description:"Use loop blocks to iterate over collections of topics matching a pattern, enabling bulk operations such as presence-based device control across multiple endpoints.",keywords:["loops","iteration","topic patterns","presence detection","bulk device control","automation loops","pattern matching","variables"]},r="Loops",c={},l=[];function d(e){const o={code:"code",h1:"h1",header:"header",img:"img",p:"p",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.header,{children:(0,n.jsx)(o.h1,{id:"loops",children:"Loops"})}),"\n",(0,n.jsxs)(o.p,{children:["Loops can be used to iterate over a collection of topics that match a pattern. Click on the ",(0,n.jsx)(o.code,{children:"Loops"})," section to drag a loop block into the workspace. The loop has two fields: a field for a ",(0,n.jsx)(o.code,{children:"Variable"})," name and a field to specify a pattern for a ",(0,n.jsx)(o.code,{children:"Topic"}),".  In this example we first define a variable ",(0,n.jsx)(o.code,{children:"somebodyPresent"})," and set this to ",(0,n.jsx)(o.code,{children:"false"}),". Then we are looping over all topics defined by the pattern ",(0,n.jsx)(o.code,{children:"office.htc.presense.*.present"})," which define which people are currently connected to the WIFI router. If there is anybody present the variable ",(0,n.jsx)(o.code,{children:"somebodyPresent"})," is set to ",(0,n.jsx)(o.code,{children:"true"}),". A second loop is used to iterate over all all topics that have an ",(0,n.jsx)(o.code,{children:"on"})," field, such as switches or lights. These are all turned off if there is nobody present and if it is after 18:00."]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{src:t(63774).A+"",width:"2732",height:"1152"})})]})}function p(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},63774(e,o,t){t.d(o,{A:()=>s});const s=t.p+"assets/images/automation_loop_presence-5d1d487acd91df9364e891f10a60afe4.png"},28453(e,o,t){t.d(o,{R:()=>a,x:()=>r});var s=t(96540);const n={},i=s.createContext(n);function a(e){const o=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(i.Provider,{value:o},e.children)}}}]);