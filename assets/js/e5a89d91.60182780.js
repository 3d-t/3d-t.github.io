"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[511],{15680:(e,n,t)=>{t.d(n,{xA:()=>p,yg:()=>u});var a=t(96540);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=a.createContext({}),s=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=s(e.components);return a.createElement(c.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},h=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(t),h=i,u=d["".concat(c,".").concat(h)]||d[h]||m[h]||o;return t?a.createElement(u,r(r({ref:n},p),{},{components:t})):a.createElement(u,r({ref:n},p))}));function u(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=h;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l[d]="string"==typeof e?e:i,r[1]=l;for(var s=2;s<o;s++)r[s]=t[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},70194:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var a=t(58168),i=(t(96540),t(15680));const o={sidebar_position:20},r="Model",l={unversionedId:"animation/model",id:"animation/model",title:"Model",description:"To create an animation a new model is created and all topics for the various elements are loaded in the topic view.",source:"@site/docs/animation/model.md",sourceDirName:"animation",slug:"/animation/model",permalink:"/docs/animation/model",draft:!1,tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20},sidebar:"defaultSidebar",previous:{title:"Objects",permalink:"/docs/animation/parts"},next:{title:"Documentation",permalink:"/docs/api/intro"}},c={},s=[{value:"Form",id:"form",level:2},{value:"Connector",id:"connector",level:2},{value:"Animation",id:"animation",level:2}],p={toc:s},d="wrapper";function m(e){let{components:n,...o}=e;return(0,i.yg)(d,(0,a.A)({},p,o,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"model"},"Model"),(0,i.yg)("p",null,"To create an animation a new model is created and all topics for the various elements are loaded in the topic view.\nTo change the angle of the bridge you can open the topic ",(0,i.yg)("inlineCode",{parentName:"p"},"lock.bru.bridge.angle")," in another browser and set the value to ",(0,i.yg)("inlineCode",{parentName:"p"},"45"),". The model should be updated automatically since it is automatically subscribed to updates of all topics that are included in the model."),(0,i.yg)("p",null,(0,i.yg)("img",{src:t(65970).A,width:"1200",height:"750"})),(0,i.yg)("h2",{id:"form"},"Form"),(0,i.yg)("p",null,"As an alternative to entering new topic values with the keyboard you can also create the following form. All topics are relative to the main topic ",(0,i.yg)("inlineCode",{parentName:"p"},"lock.bru"),"."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-javascript"},"Lock\n\nlake.light.state:Lake lock light\n[\nprepare,\nproceed,\nstop,\n]\n|6\n\nsea.light.state:Sea lock light\n[\nprepare,\nproceed,\nstop,\n]\n|6\n\nlake.barrier.angle:Lake barrier\n[0|100]\n|6\n\nsea.barrier.angle:Sea barrier\n[0|100]\n|6\n\nfootbridge.extension:Foot bridge\n[0|100]\n|6\n\nrollbridge.extension:Roll Bridge\n[0|100]\n|6\n\nlake.lock.angle:Lake lock\n[0|100]\n|6\n\nsea.lock.angle:Sea lock\n[0|100]\n|6\n\nbridge.angle:Draw Bridge\n[0|100]\n\nwater.level:Water level\n[0|10]\n\nship.position:Schip position\n[0|400]\n")),(0,i.yg)("p",null,"To open the form go to the ",(0,i.yg)("inlineCode",{parentName:"p"},"items")," section and search for ",(0,i.yg)("inlineCode",{parentName:"p"},"lock.bru"),". When clicking on the item the system searches for forms that match any subtopics in the item. In this case the form above with name ",(0,i.yg)("inlineCode",{parentName:"p"},"Lock")," is opened. You can now drive the animation by changing the values of the sliders and drop-down menus."),(0,i.yg)("p",null,(0,i.yg)("img",{src:t(36976).A,width:"1200",height:"750"})),(0,i.yg)("h2",{id:"connector"},"Connector"),(0,i.yg)("p",null,"You can also automatically update the model by creating a connector that updates the various subtopics under ",(0,i.yg)("inlineCode",{parentName:"p"},"lock.bru"),". For example, the connector can update the water level by making a call to a web service with real time water level information. In this example we set the values of the topics by importing a CSV file. The file has three headers: ",(0,i.yg)("inlineCode",{parentName:"p"},"topic"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"time")," and ",(0,i.yg)("inlineCode",{parentName:"p"},"value"),". When running the connector the name of the topic is defined by the expression in the ",(0,i.yg)("inlineCode",{parentName:"p"},"key")," field. In this case it is ",(0,i.yg)("inlineCode",{parentName:"p"},"lock.bru")," followed by the value in the first column of the CSV file. The time is set to a fixed date ",(0,i.yg)("inlineCode",{parentName:"p"},"2024-01-01")," plus the value in the ",(0,i.yg)("inlineCode",{parentName:"p"},"time")," column multiplied by 1000. This is because the time is specified in milliseconds. Click ",(0,i.yg)("inlineCode",{parentName:"p"},"test")," to check that all topics, values and times are correct and then ",(0,i.yg)("inlineCode",{parentName:"p"},"Run")," to actually import the data. "),(0,i.yg)("p",null,(0,i.yg)("img",{src:t(91531).A,width:"1200",height:"800"})),(0,i.yg)("h2",{id:"animation"},"Animation"),(0,i.yg)("p",null,"To start the animation, click on the ",(0,i.yg)("inlineCode",{parentName:"p"},"Time")," tab and include all topics that you want to animate. Note that in this example we have disabled animation of the camera position and target. Next, specify the start and end time for collecting historical data on the topics listed. When ready click on the ",(0,i.yg)("inlineCode",{parentName:"p"},"Animate")," button. "),(0,i.yg)("p",null,(0,i.yg)("img",{src:t(76142).A,width:"1200",height:"750"})),(0,i.yg)("p",null,"Note: You can also watch a video of this animation is the ",(0,i.yg)("a",{parentName:"p",href:"/docs/lockvideo"},"video section"),". This video includes more details on the setup and also shows the view from inside a ship in the lock by enabling the camera animation."))}m.isMDXComponent=!0},91531:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/animation_connector_lock-1f29cfce070ecd42d2755557a3ba71c4.png"},36976:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/animation_form_lock-47e36994469d301f11c7afa235dd8548.png"},76142:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/animation_lock_frames-b4c9053bb0913fe055e3d0088f9ac5da.png"},65970:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/animation_topics_lock-adfe909e8f776e76b379db700d2e97e9.png"}}]);