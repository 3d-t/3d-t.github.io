"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[6510],{80415(e,t,i){i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"integrations/mqtt","title":"MQTT","description":"Configure MQTT-based data ingestion with support for scheduled and immediate (continuous) import modes for IoT sensor data such as temperature and humidity.","source":"@site/docs/integrations/mqtt.md","sourceDirName":"integrations","slug":"/integrations/mqtt","permalink":"/docs/integrations/mqtt","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":55,"frontMatter":{"sidebar_position":55,"description":"Configure MQTT-based data ingestion with support for scheduled and immediate (continuous) import modes for IoT sensor data such as temperature and humidity.","keywords":["MQTT","IoT","publish-subscribe","sensor data","real-time","data import","message broker","Mosquitto"]},"sidebar":"defaultSidebar","previous":{"title":"Tuya","permalink":"/docs/integrations/tuya"},"next":{"title":"Zwave","permalink":"/docs/integrations/zwave"}}');var n=i(74848),o=i(28453);const a={sidebar_position:55,description:"Configure MQTT-based data ingestion with support for scheduled and immediate (continuous) import modes for IoT sensor data such as temperature and humidity.",keywords:["MQTT","IoT","publish-subscribe","sensor data","real-time","data import","message broker","Mosquitto"]},r="MQTT",d={},c=[{value:"Datasource",id:"datasource",level:2},{value:"Scheduled import",id:"scheduled-import",level:2},{value:"Immediate import",id:"immediate-import",level:2},{value:"Testing",id:"testing",level:2}];function h(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"mqtt",children:"MQTT"})}),"\n",(0,n.jsx)(t.p,{children:"MQTT (Message Queuing Telemetry Transport) is a lightweight, publish-subscribe network protocol that is designed for sending data from Internet of Things (IoT) devices. It is particularly well-suited for communication between devices with limited resources, such as microcontrollers, sensors, and embedded systems. The MQTT integration uses a combination of push and pull. When data is published by a device the last received data is stored. This can either be imported immediately or it can be imported at scheduled times."}),"\n",(0,n.jsx)(t.h2,{id:"datasource",children:"Datasource"}),"\n",(0,n.jsxs)(t.p,{children:["Create a new secret and set the field ",(0,n.jsx)(t.code,{children:"type"})," to ",(0,n.jsx)(t.code,{children:"mqtt"}),". Enter the MQTT host and optionally a username and password if the MQTT server needs authentication. Create a field ",(0,n.jsx)(t.code,{children:"topic"})," and enter the name of the topic to subscribe to:"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:i(44288).A+"",width:"2732",height:"792"})}),"\n",(0,n.jsx)(t.h2,{id:"scheduled-import",children:"Scheduled import"}),"\n",(0,n.jsxs)(t.p,{children:["Create a new connector and enter the name of the secrets in the field ",(0,n.jsx)(t.code,{children:"Datasource"}),". Create a new ",(0,n.jsx)(t.code,{children:"Object"})," and map the topic to the MQTT topic, in this case ",(0,n.jsx)(t.code,{children:"office/room_112"}),". Create a key to map the value of the topic and add a key ",(0,n.jsx)(t.code,{children:"time"})," to use the time that the topic was updated. If no field ",(0,n.jsx)(t.code,{children:"time"})," is specified the current time at the moment of import is used, which may be later than the time that the data was received. Click on ",(0,n.jsx)(t.code,{children:"test"})," to check the data is imported."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:i(57857).A+"",width:"2732",height:"1802"})}),"\n",(0,n.jsxs)(t.p,{children:["You can now set a schedule for importing the date, for example ",(0,n.jsx)(t.code,{children:"Every minute"}),". This means that data is imported every minute regardless of the frequency that the MQTT data is received. This prevents that large amounts of logging data is created when an MQTT device publishes at high frequency and also prevents data overload. Scheduled imports are suitable for data that does not change frequencly, such as room temperature or humidity."]}),"\n",(0,n.jsx)(t.h2,{id:"immediate-import",children:"Immediate import"}),"\n",(0,n.jsxs)(t.p,{children:["To immediately process incoming data you can set the schedule to ",(0,n.jsx)(t.code,{children:"Continuous"}),". In this case the connector is run immediately when data is published to the topic and subtopics specified in the datasource. This option is most suited for device input that needs immediate action such as intrusion detection devices."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:i(14215).A+"",width:"2732",height:"1802"})}),"\n",(0,n.jsx)(t.h2,{id:"testing",children:"Testing"}),"\n",(0,n.jsx)(t.p,{children:"To test the connector you can use a MQTT client to publish data."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"mosquitto_pub \nmosquitto_pub -h [HOST] -u [USERNAME] -P [PASSWORD] -t 'office/room_112/temperature' -m 19\nmosquitto_pub -h [HOST] -u [USERNAME] -P [PASSWORD] -t 'office/room_112/humidity' -m 30\n"})})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},57857(e,t,i){i.d(t,{A:()=>s});const s=i.p+"assets/images/connector_mqtt_single_value-6132d8e5cd4081d4714de1dfdc6d65af.png"},14215(e,t,i){i.d(t,{A:()=>s});const s=i.p+"assets/images/connector_mqtt_single_value_immediate-44cb6461dc78c8466fb39bbaa6026880.png"},44288(e,t,i){i.d(t,{A:()=>s});const s=i.p+"assets/images/secret_mqtt_office-86eee0536c056c1e4b01b5ee7c54def5.png"},28453(e,t,i){i.d(t,{R:()=>a,x:()=>r});var s=i(96540);const n={},o=s.createContext(n);function a(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);