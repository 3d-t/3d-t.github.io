"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[4367],{58899(e,t,i){i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"import/mqtt","title":"MQTT","description":"Subscribe to MQTT topics and import IoT sensor data into SpaceTime, with support for authentication, scheduled polling, and JSON message payloads.","source":"@site/docs/import/mqtt.md","sourceDirName":"import","slug":"/import/mqtt","permalink":"/docs/import/mqtt","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":160,"frontMatter":{"sidebar_position":160,"description":"Subscribe to MQTT topics and import IoT sensor data into SpaceTime, with support for authentication, scheduled polling, and JSON message payloads.","keywords":["MQTT","IoT","import","publish","subscribe","sensor data","real-time","data acquisition","digital twin","SpaceTime"]},"sidebar":"defaultSidebar","previous":{"title":"SSH","permalink":"/docs/import/ssh"},"next":{"title":"Concept","permalink":"/docs/integrations/concept"}}');var o=i(74848),n=i(28453);const r={sidebar_position:160,description:"Subscribe to MQTT topics and import IoT sensor data into SpaceTime, with support for authentication, scheduled polling, and JSON message payloads.",keywords:["MQTT","IoT","import","publish","subscribe","sensor data","real-time","data acquisition","digital twin","SpaceTime"]},a="MQTT",c={},d=[{value:"Datasource",id:"datasource",level:2},{value:"Importer",id:"importer",level:2}];function l(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"mqtt",children:"MQTT"})}),"\n",(0,o.jsx)(t.p,{children:"MQTT is a lightweight protocol for publishing and subscribing to messages. It is often used in IoT applications. The IoT devices publish their data to an MQTT server, which can be public or private. Importers subscribe to a topic defined in the datasource and when a message is received the content is stored on the server. The content, time and topic of the message can be imported with an importer at regular scheduled intervals, or immediately if data is received. By using an importer to pull MQTT data you can avoid system overload when MQTT devices publish information at a very high rate. When MQTT data is received the last value stored in the cache is updated so that the importer always reads the most recent value."}),"\n",(0,o.jsx)(t.h2,{id:"datasource",children:"Datasource"}),"\n",(0,o.jsxs)(t.p,{children:["The data source for an MQTT connection is defined as a secret. Create a new secret and set type to ",(0,o.jsx)(t.code,{children:"mqtt"}),". Enter the name of IP address in the field ",(0,o.jsx)(t.code,{children:"host"})," and optionally enter fields for ",(0,o.jsx)(t.code,{children:"username"})," and ",(0,o.jsx)(t.code,{children:"password"})," in case the MQTT server requires authentication. Specify the MQTT topic in the ",(0,o.jsx)(t.code,{children:"topic"})," field. Make sure you add ",(0,o.jsx)(t.code,{children:"/#"})," to include all sub topic if necessary."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:i(873).A+"",width:"2732",height:"1122"})}),"\n",(0,o.jsx)(t.h2,{id:"importer",children:"Importer"}),"\n",(0,o.jsxs)(t.p,{children:["Create a new importer and set the secret as the data source. When you ",(0,o.jsx)(t.code,{children:"Run"})," or ",(0,o.jsx)(t.code,{children:"Test"})," the importer the most recent topics are loaded. Define one or more objects to map the MQTT topics to topics. In the ",(0,o.jsx)(t.code,{children:"object"})," field you enter the name of the original MQTT topic. All MQTT entries include a ",(0,o.jsx)(t.code,{children:"time"})," field for when the event was received. Note that in this example the key is left blank because in the object mapping there is already a seperate topic for each MQTT value."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:i(10002).A+"",width:"2732",height:"1802"})}),"\n",(0,o.jsxs)(t.p,{children:["An MQTT value can be a single value like ",(0,o.jsx)(t.code,{children:"100"})," or a JSON object like ",(0,o.jsx)(t.code,{children:'{"temperature": 100, "color": "red"}'}),"."]})]})}function p(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},10002(e,t,i){i.d(t,{A:()=>s});const s=i.p+"assets/images/importer_mqtt_office-3d4f793244f871271c9d1bde10738e30.png"},873(e,t,i){i.d(t,{A:()=>s});const s=i.p+"assets/images/secret_zwave_office-56a8670353d8c46ea8e03b9f259d9cb2.png"},28453(e,t,i){i.d(t,{R:()=>r,x:()=>a});var s=i(96540);const o={},n=s.createContext(o);function r(e){const t=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);