"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[3515],{89792(e,i,n){n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"drawings/text","title":"Text Mode","description":"Creating SVG drawings using JavaScript in Text Mode, covering all available drawing elements, modifiers, transformations, and clipping, with examples of a speed tape and artificial horizon.","source":"@site/docs/drawings/text.md","sourceDirName":"drawings","slug":"/drawings/text","permalink":"/docs/drawings/text","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":80,"frontMatter":{"sidebar_position":80,"description":"Creating SVG drawings using JavaScript in Text Mode, covering all available drawing elements, modifiers, transformations, and clipping, with examples of a speed tape and artificial horizon.","keywords":["Text Mode","SVG drawing","JavaScript","drawing API","elements","modifiers","transformations","clipping","speed tape","horizon","SpaceTime"]},"sidebar":"defaultSidebar","previous":{"title":"Visual Mode","permalink":"/docs/drawings/visual"},"next":{"title":"Libraries","permalink":"/docs/drawings/libraries"}}');var a=n(74848),r=n(28453);const s={sidebar_position:80,description:"Creating SVG drawings using JavaScript in Text Mode, covering all available drawing elements, modifiers, transformations, and clipping, with examples of a speed tape and artificial horizon.",keywords:["Text Mode","SVG drawing","JavaScript","drawing API","elements","modifiers","transformations","clipping","speed tape","horizon","SpaceTime"]},o="Text Mode",d={},l=[{value:"Elements",id:"elements",level:2},{value:"Line",id:"line",level:3},{value:"Rectangle",id:"rectangle",level:3},{value:"Circle",id:"circle",level:3},{value:"Arc",id:"arc",level:3},{value:"Text",id:"text",level:3},{value:"Polygon",id:"polygon",level:3},{value:"Polyline",id:"polyline",level:3},{value:"Part",id:"part",level:3},{value:"Modifiers",id:"modifiers",level:2},{value:"Stoke",id:"stoke",level:3},{value:"Fill",id:"fill",level:3},{value:"Fonts size",id:"fonts-size",level:3},{value:"Link",id:"link",level:3},{value:"Transformations",id:"transformations",level:2},{value:"Translate",id:"translate",level:3},{value:"Rotate",id:"rotate",level:3},{value:"Scale",id:"scale",level:3},{value:"Clip",id:"clip",level:2},{value:"Examples",id:"examples",level:2},{value:"SVG",id:"svg",level:2}];function c(e){const i={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"text-mode",children:"Text Mode"})}),"\n",(0,a.jsxs)(i.p,{children:["In ",(0,a.jsx)(i.code,{children:"Text Mode"})," you can create a drawing by entering statements in JavaScript instead of dragging blocks from a visual workspace. You can use the full functionality of modern JavaScript including maps, arrow functions and regular expressions. The text mode makes is easy to cut and paste code from other drawings and to use JavaScript functionality that is not supported in the ",(0,a.jsx)(i.code,{children:"Visual Mode"}),"."]}),"\n",(0,a.jsx)(i.h2,{id:"elements",children:"Elements"}),"\n",(0,a.jsx)(i.p,{children:"The following functions are used to create new geometry. When a\nfunction is called, a new element is created with the default settings for color, line width and fill."}),"\n",(0,a.jsx)(i.h3,{id:"line",children:"Line"}),"\n",(0,a.jsxs)(i.p,{children:["Draw a line from ",(0,a.jsx)(i.code,{children:"x1,y1"})," to ",(0,a.jsx)(i.code,{children:"x2,y2"}),". The width of the line is set via the ",(0,a.jsx)(i.code,{children:"width"})," function and the color is set with the ",(0,a.jsx)(i.code,{children:"stoke"})," function."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"line(x1, y1, x2, y2)\n"})}),"\n",(0,a.jsx)(i.h3,{id:"rectangle",children:"Rectangle"}),"\n",(0,a.jsxs)(i.p,{children:["Draw a rectangle at position ",(0,a.jsx)(i.code,{children:"x, y"})," with dimensions ",(0,a.jsx)(i.code,{children:"width"})," and ",(0,a.jsx)(i.code,{children:"height"})," and an optional parameter to set the radius for rounding the corners.  The width of the border is set via the ",(0,a.jsx)(i.code,{children:"width"})," function and the border color is set with the ",(0,a.jsx)(i.code,{children:"stoke"})," function. The color of the inside is set with ",(0,a.jsx)(i.code,{children:"fill"}),"."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"rectangle(x, y, width, height, r = 0)\n"})}),"\n",(0,a.jsx)(i.h3,{id:"circle",children:"Circle"}),"\n",(0,a.jsxs)(i.p,{children:["Draw a circle at position ",(0,a.jsx)(i.code,{children:"x,y"})," with a radius ",(0,a.jsx)(i.code,{children:"r"}),".\nThe width of the border is set via the ",(0,a.jsx)(i.code,{children:"width"})," function and the border color is set with the ",(0,a.jsx)(i.code,{children:"stoke"})," function. The color of the inside is set with ",(0,a.jsx)(i.code,{children:"fill"}),"."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"circle(x, y, r) \n"})}),"\n",(0,a.jsx)(i.h3,{id:"arc",children:"Arc"}),"\n",(0,a.jsxs)(i.p,{children:["Draw an arc at position ",(0,a.jsx)(i.code,{children:"x,y"})," with a radius ",(0,a.jsx)(i.code,{children:"r"})," and an angle ",(0,a.jsx)(i.code,{children:"startAngle"})," and ",(0,a.jsx)(i.code,{children:"endAngle"}),".",(0,a.jsx)(i.br,{}),"\n","The width of the border is set via the ",(0,a.jsx)(i.code,{children:"width"})," function and the border color is set with the ",(0,a.jsx)(i.code,{children:"stoke"})," function. The color of the inside is set with ",(0,a.jsx)(i.code,{children:"fill"}),"."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"arc(x, y, r, startAngle, endAngle) \n"})}),"\n",(0,a.jsx)(i.h3,{id:"text",children:"Text"}),"\n",(0,a.jsxs)(i.p,{children:["Draw a text defined by the parameter ",(0,a.jsx)(i.code,{children:"text"}),", with an optional parameter to set the 'x' and 'y' position, and an optional parameter to set the angle 'a'.  The font size is set via the ",(0,a.jsx)(i.code,{children:"fontSize"})," function and the color is set with the ",(0,a.jsx)(i.code,{children:"stoke"})," function."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"text(text, x = 0, y = 0, a = 0)\n"})}),"\n",(0,a.jsx)(i.h3,{id:"polygon",children:"Polygon"}),"\n",(0,a.jsxs)(i.p,{children:["Draw a polygon defined by the parameter ",(0,a.jsx)(i.code,{children:"points"}),", where each point is an array of two numbers ",(0,a.jsx)(i.code,{children:"[x, y]"}),".  The width of the border is set via the ",(0,a.jsx)(i.code,{children:"width"})," function and the border color is set with the ",(0,a.jsx)(i.code,{children:"stoke"})," function. The color of the inside is set with ",(0,a.jsx)(i.code,{children:"fill"}),"."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"polygon(points[][])\n"})}),"\n",(0,a.jsx)(i.h3,{id:"polyline",children:"Polyline"}),"\n",(0,a.jsxs)(i.p,{children:["Draw a polyline defined by the parameter ",(0,a.jsx)(i.code,{children:"points"}),", where each point is an array of two numbers ",(0,a.jsx)(i.code,{children:"[x, y]"}),".  The width of the border is set via the ",(0,a.jsx)(i.code,{children:"width"})," function and the border color is set with the ",(0,a.jsx)(i.code,{children:"stoke"})," function."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"polyline(points[][])\n"})}),"\n",(0,a.jsx)(i.h3,{id:"part",children:"Part"}),"\n",(0,a.jsxs)(i.p,{children:["Include a drawing from another library. The name parameter is the name of the part, optionally preceded by the name of the library, separated by a dot. For example, ",(0,a.jsx)(i.code,{children:"library.part"})," or ",(0,a.jsx)(i.code,{children:"mylib.mylib.part"}),". The parameters can be used to pass parameters to the drawing."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"part(name, parameters...)\n"})}),"\n",(0,a.jsx)(i.h2,{id:"modifiers",children:"Modifiers"}),"\n",(0,a.jsx)(i.p,{children:"Modifiers can be used to change the properties of the next drawing operation. When a modifier is used inside a function or block it only applies to the drawing operations in the function or block."}),"\n",(0,a.jsx)(i.h3,{id:"stoke",children:"Stoke"}),"\n",(0,a.jsx)(i.p,{children:"Set the border color of the next drawing operation. The color can be defined with a hex string such as '#900000'or a named color like 'dark red'."}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"stoke(color)\n"})}),"\n",(0,a.jsx)(i.h3,{id:"fill",children:"Fill"}),"\n",(0,a.jsx)(i.p,{children:"Set the fill color of the next drawing operation. The color can be defined with a hex string such as '#900000'or a named color like 'dark red'."}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"fill(color)\n"})}),"\n",(0,a.jsx)(i.h3,{id:"fonts-size",children:"Fonts size"}),"\n",(0,a.jsx)(i.p,{children:"Set the size of the font for the next drawing operation. If not defined the default font size is 20 pixels. If the size is a number it is interpreted as pixels, if it is a string it is interpreted as a CSS size such as '12px' or '12pt'."}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"fontSize(size)\n"})}),"\n",(0,a.jsx)(i.h3,{id:"link",children:"Link"}),"\n",(0,a.jsxs)(i.p,{children:["Add a link to subsequent SVG elements. The ",(0,a.jsx)(i.code,{children:"parameters"})," field is the value of the new parameters for rendering the drawing after the user has clicked on the element. The ",(0,a.jsx)(i.code,{children:"topic"})," field is the name of the subtopic that is linked to this element. This can be used to open forms with input fields or documents."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"link(parameters, topic)\n"})}),"\n",(0,a.jsx)(i.h2,{id:"transformations",children:"Transformations"}),"\n",(0,a.jsx)(i.h3,{id:"translate",children:"Translate"}),"\n",(0,a.jsxs)(i.p,{children:["Move the origin of the next drawing operation to the position ",(0,a.jsx)(i.code,{children:"x, y"}),"."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"translate(x, y)\n"})}),"\n",(0,a.jsx)(i.h3,{id:"rotate",children:"Rotate"}),"\n",(0,a.jsxs)(i.p,{children:["Rotate the origin of the next drawing operation by the angle ",(0,a.jsx)(i.code,{children:"a"}),". Optionally specify the rotation center ",(0,a.jsx)(i.code,{children:"x, y"}),"."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"rotate(a, x, y)\n"})}),"\n",(0,a.jsx)(i.h3,{id:"scale",children:"Scale"}),"\n",(0,a.jsxs)(i.p,{children:["Scale the origin of the next drawing operation by ",(0,a.jsx)(i.code,{children:"x, y"}),"."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"scale(x, y)\n"})}),"\n",(0,a.jsx)(i.h2,{id:"clip",children:"Clip"}),"\n",(0,a.jsxs)(i.p,{children:["Set a clipping region for the next drawing operation. The clipping region is defined by a rectangle with position ",(0,a.jsx)(i.code,{children:"x, y"})," and dimensions ",(0,a.jsx)(i.code,{children:"width"})," and ",(0,a.jsx)(i.code,{children:"height"}),". To reset the clipping region use the ",(0,a.jsx)(i.code,{children:"clip"})," function without arguments."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-javascript",children:"clip(x, y, width, height)\n"})}),"\n",(0,a.jsx)(i.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsxs)(i.p,{children:["The drawing below shows some examples of how to use the text mode for creating a speed tape in an aircraft. The speed tape diagram shows the current speed in a black box. The speed slider moves vertically below the box and has regions for showing the speed ranges for normal operation (green), warning (yellow) and excess speed (red). A JavaScript ",(0,a.jsx)(i.code,{children:"for"})," statement is used to create the moving tape with speed markers and number labels. The drawing has a variable speed with a default value of `117' that can be overridden by a user define parameter as shown in the earlier example of the compass."]}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{src:n(64191).A+"",width:"1200",height:"750"})}),"\n",(0,a.jsxs)(i.p,{children:["The next example shows an artificial horizon with the terrain in grey and sky in blue. The drawing has two parameters that define the ",(0,a.jsx)(i.code,{children:"pitch"})," and ",(0,a.jsx)(i.code,{children:"bank"})," (or roll) of the aircraft. The display is created by a blue rectangle that covers an area of 500 x 500 pixels. The terrain is drawn inside a block statement. A grey rectangle is positioned so that it matches the ",(0,a.jsx)(i.code,{children:"pitch"})," parameter and rotated to match the ",(0,a.jsx)(i.code,{children:"bank"})," parameter. The grey rectangle is clipped to the size of the blue rectangle."]}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{src:n(10631).A+"",width:"1200",height:"750"})}),"\n",(0,a.jsx)(i.h2,{id:"svg",children:"SVG"}),"\n",(0,a.jsxs)(i.p,{children:["The text mode editor shows the generated SVG drawing in a viewer window. The SVG can also be called from a web page. The following example shows how to call the SVG from a web page with different parameters for the ",(0,a.jsx)(i.code,{children:"pitch"})," and ",(0,a.jsx)(i.code,{children:"bank"})," parameters. Note that the drawing was named ",(0,a.jsx)(i.code,{children:"Horizon"})," and the library was set to ",(0,a.jsx)(i.code,{children:"AIR"}),". To generate the SVG you enter the name of the library, followed by a dot and the name of the drawing. The parameters are passed as a string in the URL. The URL is called from the HTML page below."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-htlm",children:'<html>\n\n<body>\n    <table>\n        <tr >\n            <td >\n                <img src="http://localhost:8010/drawings/svg/AIR.Horizon(0, 0)" width="500" height="500">\n            </td>\n            <td>\n                <img src="http://localhost:8010/drawings/svg/AIR.Horizon(10,20)" width="500" height="500">\n            </td>\n        </tr>\n    </table>\n</body>\n\n</html>\n'})}),"\n",(0,a.jsxs)(i.p,{children:["When the HTML page is opened in a web browser it shows the two SVG drawings with different parameters for the ",(0,a.jsx)(i.code,{children:"pitch"})," and ",(0,a.jsx)(i.code,{children:"bank"})," angle."]}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{src:n(76623).A+"",width:"1050",height:"525"})})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},10631(e,i,n){n.d(i,{A:()=>t});const t=n.p+"assets/images/drawings_text_horizon-bb98f85f1187e81931b95691ad04c90e.png"},76623(e,i,n){n.d(i,{A:()=>t});const t=n.p+"assets/images/drawings_text_horizon_html-51a2708815f084f1939f750097f03fc6.png"},64191(e,i,n){n.d(i,{A:()=>t});const t=n.p+"assets/images/drawings_text_speed-13d1be2b975cb9e77f7f17ede94ad94f.png"},28453(e,i,n){n.d(i,{R:()=>s,x:()=>o});var t=n(96540);const a={},r=t.createContext(a);function s(e){const i=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);